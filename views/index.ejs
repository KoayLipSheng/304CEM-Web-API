<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Review Page </title>
    <link rel="stylesheet" type="text/css" href="/css/design.css">
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
</head>
<body>
    <div class= "bigimg">
    <h1>Movie Rating System</h1>

    <div class="forbackground">
        <div class="slideshow-container">
        
            <!-- Full-width images with number and caption text -->
            <div class="mySlides fade">
              <div class="numbertext"></div>
              <img src="/images/movie1.jpg" style="width:100%">
              <div class="text"></div>
            </div>
          
            <div class="mySlides fade">
              <div class="numbertext"></div>
              <img src="/images/movie2.jpg" style="width:100%">
              <div class="text"></div>
            </div>
          
            <div class="mySlides fade">
              <div class="numbertext"></div>
              <img src="/images/movie3.jpg" style="width:100%">
              <div class="text"></div>
            </div>
          
            <!-- Next and previous buttons -->
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
          </div>
          <br>
          
          <!-- The dots/circles -->
          <div style="text-align:center">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
          </div>
    <!-- style="padding: 20px; background-image: url('/images/123.jpg');" -->

    <!-- <img src="/images/123.jpg" width="700" alt=""> -->
    <div class="addMovieForm">
        <div class="addform">
        <h2>Add Movie</h2>
        <form class="addMovie" action="/getMovie" method="get">

            <br>
            <div class="inputAdd">
            <input type="text" name="getName" placeholder="Superhero Name" style="height:40px; width: 600px;" >
            </div>
            <br>
            <div class= "submitBTTN">
            <input class="submitBtn" type="submit" value="Add">
        </div>
        </form>
    </div>
    </div>


    <div class="editMovieForm">
        <div class="editform">
        <h2>Edit Movie</h2>
        <form class="editMovie" action="/editMovie" method="get">
            <div class="selectEdit">
            Superhero: 
            <select name="getName">
                <%moviesList.forEach(movie => {%>
                    <option value="<%= movie.fullName %>" ><%= movie.fullName %></option>
                <%})%>
            </select>
        </div>
            <br>
            <div class="editAdd">
            <input type="number" name="rating" placeholder="Change Rating" style="height:40px; width: 600px;">
            </div>
            
            <div class= "submitBTTN">
            <input class="submitBtn" type="submit" value="Update">
            </div>
        </div>
    </div>
        </form>


</div>

<h3>Search Results</h3>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Title</th>
            <th scope="col">Full Name</th>
            <th scope="col">Genre</th>
            <th scope="col">Movie Plot</th>
            <th scope="col">RottenTomatoes Rating</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
        <%moviesList.forEach(movie => {%>
            <tr>
                <th scope="row"><%= movie._id %></th>
                <td><%= movie.titleName %></td>
                <td><%= movie.fullName %></td>
                <td><%= movie.genreMovie %></td>
                <td><%= movie.plotMovie %></td>
                <td><%= movie.movieRating %></td>
                <td><a href="/deleteMovie?hero=<%= movie.titleName %>">Delete</a></td>
            </tr>
        <%})%>
        </tbody>
      </table>

      
      </body>
      <script>
        var slideIndex = 0;
showSlides();

function showSlides() {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  for (i = 0; i < slides.length; i++) {
    slides[i].style.display = "none";
  }
  slideIndex++;
  if (slideIndex > slides.length) {slideIndex = 1}
  slides[slideIndex-1].style.display = "block";
  setTimeout(showSlides, 4000); // Change image every 2 seconds
}
        </script>

</html>